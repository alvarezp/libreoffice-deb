--- /dev/null	2011-02-09 23:43:13.080975836 +0100
+++ libreoffice-3.3.0/libreoffice-build/patches/dev300/odk-settings-fix-STLPORTLIB.diff	2011-02-10 22:38:01.000000000 +0100
@@ -0,0 +1,47 @@
+diff --git a/odk/settings/settings.mk b/odk/settings/settings.mk
+index 188ff88..3d67ee5 100644
+--- odk/settings/settings.mk
++++ odk/settings/settings.mk
+@@ -262,14 +262,12 @@ ifeq "$(PROCTYPE)" "powerpc"
+ PACKAGE_LIB_DIR=linux_powerpc.plt
+ UNOPKG_PLATFORM=Linux_PowerPC
+ JAVA_PROC_TYPE=ppc
+-STLPORT=yes
+ endif
+ 
+ ifeq "$(PROCTYPE)" "sparc"
+ PACKAGE_LIB_DIR=linux_sparc.plt
+ UNOPKG_PLATFORM=Linux_SPARC
+ JAVA_PROC_TYPE=sparc
+-STLPORT=yes
+ endif
+ 
+ ifeq "$(PROCTYPE)" "x86_64"
+@@ -503,9 +501,11 @@ PLATFORM=kfreebsd
+ ifeq "$(PROCTYPE)" "x86_64"
+ PACKAGE_LIB_DIR=kfreebsd_x86_64.plt
+ UNOPKG_PLATFORM=kFreeBSD_x86_64
++STLPORT=no
+ else
+ PACKAGE_LIB_DIR=kfreebsd_x86.plt
+ UNOPKG_PLATFORM=kFreeBSD_x86
++STLPORT=no
+ endif
+ else
+ PLATFORM=freebsd
+@@ -569,11 +569,15 @@ CPPUHELPERLIB=-luno_cppuhelper$(COMID)
+ SALHELPERLIB=-luno_salhelper$(COMID)
+ REGLIB=-lreg
+ STORELIB=-lstore
++ifeq "$(STLPORT)" "yes"
+ ifeq "$(STLPORT_VER)" "500"
+ STLPORTLIB=-lstlport
+ else
+ STLPORTLIB=-lstlport_gcc$(STLDEBUG)
+ endif
++else
++STLPORTLIB=
++endif
+ 
+ EMPTYSTRING=
+ PATH_SEPARATOR=:
--- libreoffice-3.3.0/libreoffice-build/patches/dev300/apply-old	2011-02-10 22:48:35.000000000 +0100
+++ libreoffice-3.3.0/libreoffice-build/patches/dev300/apply	2011-02-10 22:48:27.000000000 +0100
@@ -2393,3 +2393,4 @@
 
 [ Fixes ]
 nsplugin-LibreOffice.diff
+odk-settings-fix-STLPORTLIB.diff
